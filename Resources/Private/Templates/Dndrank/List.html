<f:layout name="Default" />

<f:section name="main">

	<ul id="tx_toolbox_dnd_rank">
		<f:for each="{dndranks}" as="dndrank" iteration="cardIterator">
			<li id="dnd_rank_{cardIterator.cycle}" class="dnd_rank">
				<div class="dnd_rank_question" data-uid="{dndrank.uid}">
					<p><b><f:format.html parseFuncTSPath="lib.parseFunc">{dndrank.question}</f:format.html></b></p>
				</div>
				<div class='dnd_rank_wrapper'>
					<ul class="dnd_rank">
						<f:for each="{dndrank.answerList}" as="answer" iteration="ansIterator">
							<li>{ansIterator.cycle}</li>
						</f:for>
					</ul>
					<ul class="dnd_rank_sortable">
						<f:for each="{dndrank.answerList}" as="answer" iteration="ansIterator">
							<li class="ui-state-default" data-uid="{answer.uid}"><span class="ui-icon ui-icon-arrowthick-2-n-s"></span>{answer.answer}</li>
						</f:for>
					</ul>
				</div>

				<div class='dnd_check_rank_button' style="background: {settings.submitButtonColor}; border: 1px solid {settings.submitButtonColor}" ><f:translate key="check_rank_button" /></div>
			</li>
		</f:for>
	</ul>

	<script>
		var checkRankingAction = "{f:uri.action(pageType: '995', action: 'check', controller: 'Dndrank', noCacheHash: '1' )}";
	</script>
</f:section>